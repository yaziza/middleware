package de.tud.in.middleware.dao.costumers;

import java.util.Formatter;

import javax.ejb.LocalBean;
import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;

import de.tud.in.middleware.costumers.Costumer;

/**
 * Session Bean implementation class CostumerDAO
 */
@Stateless
@LocalBean
public class CostumerDAO {

	@PersistenceContext
	EntityManager entityManager;
	
    /**
     * Default constructor. 
     */
    public CostumerDAO() {
    }
    
    public long getNumberOfCostumers() {
    	long result;
    	Query query = entityManager.createQuery("select count(id) from Costumer id");
    	result = (Long) query.getSingleResult();
    	return result;
    }

	public String getCostumerName(long id) {
    	String format = String.format("select name from Costumer name where name.id = %d", id);
    	Query query = entityManager.createQuery(format);
    	Costumer costumer  =  (Costumer) query.getSingleResult();
    	
    	return costumer.getName();
	}

}
